<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HoangKun Pro</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #121212; color: white; text-align: center; margin: 0; overflow: hidden; touch-action: none; }
        .card { background: #1e1e1e; max-width: 380px; margin: 15px auto; padding: 20px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .avatar { width: 100px; height: 100px; border-radius: 20px; border: 3px solid #ffcc00; }
        
        .btn-social {
            display: inline-block; padding: 10px; margin: 5px; color: white; 
            text-decoration: none; border-radius: 10px; font-weight: bold; width: 40%; font-size: 14px;
        }
        .fb { background: #1877F2; } .zl { background: #0068FF; } .tt { background: #000; border: 1px solid #444; }

        #gameWrapper { position: relative; width: 320px; height: 350px; margin: 15px auto; border-radius: 15px; overflow: hidden; border: 2px solid #ffcc00; }
        #gameCanvas { background: #000; display: block; touch-action: none; }
        
        #gameOverlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 10;
        }
        .btn-game { background: #ffcc00; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .stats { display: flex; justify-content: space-around; margin: 10px 0; font-weight: bold; color: #ffcc00; }
    </style>
</head>
<body>
    <div class="card">
        <img src="g2.jpg.webp" class="avatar" alt="HoangKun">
        <h2 style="margin: 10px 0;">HOANG KUN üëë</h2>
        
        <a href="https://facebook.com/nvh12072006" class="btn-social fb">Facebook</a>
        <a href="https://zalo.me/84788265513" class="btn-social zl">Zalo</a>
        <a href="https://www.tiktok.com/@hpdbox" class="btn-social tt" style="width: 85%;">TikTok</a>

        <div class="stats">
            <div>ƒêi·ªÉm: <span id="sc">0</span></div>
            <div>K·ª∑ l·ª•c: <span id="hs">0</span></div>
        </div>

        <div id="gameWrapper">
            <canvas id="gameCanvas" width="320" height="350"></canvas>
            <div id="gameOverlay">
                <h2 id="msg" style="color:#ffcc00">S·∫¥N S√ÄNG?</h2>
                <button id="startBtn" class="btn-game">CH∆†I LU√îN</button>
            </div>
        </div>
    </div>

    <script>
        const cvs = document.getElementById('gameCanvas');
        const ctx = cvs.getContext('2d');
        let score = 0, highScore = localStorage.getItem('hkhs') || 0, running = false;
        document.getElementById('hs').innerText = highScore;

        let basket = { x: 120, y: 320, w: 80, h: 10 };
        let items = [];

        function spawn() {
            let type = Math.random() > 0.8 ? 'bad' : 'good';
            items.push({ x: Math.random()*290+15, y: -20, r: 10, s: 3 + score/10, t: type });
        }

        function move(e) {
            let rect = cvs.getBoundingClientRect();
            let x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
            basket.x = x - basket.w / 2;
            if(basket.x < 0) basket.x = 0;
            if(basket.x > cvs.width - basket.w) basket.x = cvs.width - basket.w;
        }

        cvs.addEventListener('mousemove', move);
        cvs.addEventListener('touchmove', (e) => { move(e); e.preventDefault(); }, { passive: false });

        function loop() {
            if(!running) return;
            ctx.clearRect(0,0,cvs.width,cvs.height);
            
            ctx.fillStyle = '#ffcc00';
            ctx.fillRect(basket.x, basket.y, basket.w, basket.h);

            items.forEach((it, i) => {
                it.y += it.s;
                ctx.beginPath();
                ctx.fillStyle = it.t === 'good' ? '#ff4d4d' : '#9b59b6';
                ctx.arc(it.x, it.y, it.r, 0, Math.PI*2); ctx.fill();

                if(it.y+it.r > basket.y && it.x > basket.x && it.x < basket.x+basket.w) {
                    if(it.t === 'bad') { running = false; end(); }
                    else { score++; items.splice(i,1); }
                } else if(it.y > cvs.height) {
                    if(it.t === 'good') { running = false; end(); }
                    else items.splice(i,1);
                }
            });

            if(Math.random() < 0.03) spawn();
            document.getElementById('sc').innerText = score;
            requestAnimationFrame(loop);
        }

        function end() {
            if(score > highScore) { highScore = score; localStorage.setItem('hkhs', highScore); }
            document.getElementById('hs').innerText = highScore;
            document.getElementById('msg').innerText = "THUA R·ªíI: " + score;
            document.getElementById('gameOverlay').style.display = 'flex';
        }

        document.getElementById('startBtn').onclick = () => {
            score = 0; items = []; running = true;
            document.getElementById('gameOverlay').style.display = 'none';
            loop();
        };
    </script>
</body>
</html>
